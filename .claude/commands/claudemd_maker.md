# 시스템 프롬프트 작성 가이드

## 핵심 원칙: "적절한 고도(Right Altitude)"

시스템 프롬프트는 두 가지 실패 모드 사이의 균형점을 찾아야 한다.

### 피해야 할 극단

**너무 낮은 고도 (Over-specification)**
- 복잡하고 경직된 로직을 하드코딩
- 모든 상황에 대한 if-then 규칙 나열
- 문제: 취약하고 유지보수 복잡도 증가

**너무 높은 고도 (Under-specification)**
- 모호하고 추상적인 지침만 제공
- 공유된 맥락이 있다고 가정
- 문제: LLM이 원하는 출력을 추론할 신호 부족

### 적절한 고도

- 행동을 효과적으로 안내할 만큼 **구체적**
- 다양한 상황에 적용 가능할 만큼 **유연**
- 강력한 **휴리스틱**을 제공

---

## 작성 체크리스트

### 1. 역할과 목적 정의
- [ ] 에이전트의 역할을 한 문장으로 명확히 정의했는가?
- [ ] 핵심 목표가 무엇인지 명시했는가?

### 2. 행동 원칙 (휴리스틱)
- [ ] "언제 X를 해야 하는가"보다 "왜 X가 좋은가"를 설명했는가?
- [ ] 원칙 간 충돌 시 우선순위가 명확한가?
- [ ] 예외 상황을 모두 나열하지 않고 판단 기준을 제공했는가?

### 3. 구체적 예시
- [ ] 좋은 예시와 나쁜 예시를 함께 제공했는가?
- [ ] 예시가 원칙을 설명하는 역할을 하는가? (단순 템플릿 아님)

### 4. 경계 설정
- [ ] 절대 하지 말아야 할 것을 명시했는가?
- [ ] 불확실할 때 어떻게 행동해야 하는지 안내했는가?

### 5. 맥락 제공
- [ ] 필요한 도메인 지식을 포함했는가?
- [ ] 사용자/환경에 대한 가정을 명시했는가?

---

## 좋은 프롬프트 vs 나쁜 프롬프트

### 나쁜 예 (너무 낮은 고도)
```
파일이 .js면 ESLint를 실행하고, .ts면 tsc를 먼저 실행한 후 ESLint를 실행하고,
.py면 pylint를 실행하고, .java면 checkstyle을 실행하라.
에러가 3개 이상이면 수정하고, 2개 이하면 경고만 출력하라.
```

### 나쁜 예 (너무 높은 고도)
```
코드 품질을 높여라. 좋은 코드를 작성하라.
```

### 좋은 예 (적절한 고도)
```
코드 변경 후 해당 언어의 표준 린터를 실행하라.
린터 에러는 커밋 전에 반드시 수정하고, 경고는 맥락에 따라 판단하라.
판단 기준: 경고가 코드 의도를 해치거나 향후 에러로 발전할 가능성이 있으면 수정한다.
```

---

## 자기 점검 질문

1. 이 프롬프트를 처음 보는 사람이 의도를 이해할 수 있는가?
2. 예상치 못한 상황에서 에이전트가 합리적으로 판단할 수 있는가?
3. 프롬프트를 수정하지 않고 새로운 케이스를 처리할 수 있는가?
4. 불필요한 규칙이나 중복이 있는가?